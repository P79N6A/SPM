Stat to process os environment, size:66
Env: [GLOG_v] = [1]
Env: [HOME] = [/root]
Env: [HOSTNAME] = [2bc48f4f-8633-4d0b-9394-4a1a2196bb28]
Env: [K8SADAPTER_CONTAINER_SHM_SIZE_MB] = [15843]
Env: [K8SADAPTER_DATA_QUOTA] = [350]
Env: [K8SADAPTER_ROOT_QUOTA] = [25]
Env: [KUBERNETES_PORT] = [tcp://192.168.0.1:443]
Env: [KUBERNETES_PORT_443_TCP] = [tcp://192.168.0.1:443]
Env: [KUBERNETES_PORT_443_TCP_ADDR] = [192.168.0.1]
Env: [KUBERNETES_PORT_443_TCP_PORT] = [443]
Env: [KUBERNETES_PORT_443_TCP_PROTO] = [tcp]
Env: [KUBERNETES_SERVICE_HOST] = [192.168.0.1]
Env: [KUBERNETES_SERVICE_PORT] = [443]
Env: [KUBERNETES_SERVICE_PORT_HTTPS] = [443]
Env: [LD_LIBRARY_PATH] = [/lib64:/usr/lib64:/lib:/usr/lib:/usr/lib/x86_64-linux-gnu:/usr/local/app/miniconda3/lib:/usr/local/nccl/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64]
Env: [LIBPROCESS_IP] = [9.73.148.84]
Env: [LIBPROCESS_PORT] = [0]
Env: [LOGNAME] = [root]
Env: [MESOS_AGENT_ENDPOINT] = [9.73.148.84:5051]
Env: [MESOS_CHECKPOINT] = [1]
Env: [MESOS_DIRECTORY] = [/dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94]
Env: [MESOS_EXECUTOR_ID] = [tensorflow_6832255.worker.0]
Env: [MESOS_EXECUTOR_SHUTDOWN_GRACE_PERIOD] = [55secs]
Env: [MESOS_FRAMEWORK_ID] = [tensorflow_6832255]
Env: [MESOS_HTTP_COMMAND_EXECUTOR] = [0]
Env: [MESOS_NATIVE_JAVA_LIBRARY] = [/usr/lib/libmesos-1.2.0.so]
Env: [MESOS_NATIVE_LIBRARY] = [/usr/lib/libmesos-1.2.0.so]
Env: [MESOS_RECOVERY_TIMEOUT] = [15mins]
Env: [MESOS_SANDBOX] = [/dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94]
Env: [MESOS_SLAVE_ID] = [PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051]
Env: [MESOS_SLAVE_PID] = [slave(1)@9.73.148.84:5051]
Env: [MESOS_SUBSCRIPTION_BACKOFF_MAX] = [2secs]
Env: [NONE_CONTAINERIZER_HELP] = [false]
Env: [NONE_CONTAINERIZER_LAUNCH_INFO] = [{"command":{"shell":true,"value":"export PYTHONPATH=$PYTHONPATH;export PATH=$PATH:\/usr\/local\/bin:\/bin:\/usr\/bin:\/usr\/local\/nvidia\/bin:\/usr\/local\/cuda-9.0\/bin:\/usr\/local\/cuda-8.0\/bin:\/usr\/local\/jdk\/bin:\/usr\/local\/jdk\/jre\/bin; export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:\/usr\/local\/nvidia\/lib:\/usr\/local\/nvidia\/lib64:\/usr\/local\/cuda-9.0\/lib64\/:\/usr\/local\/cuda-9.0\/extras\/CUPTI\/lib64:\/usr\/local\/cuda-8.0\/lib64:\/usr\/local\/cuda-8.0\/extras\/CUPTI\/lib64; \/bin\/sh -c \"\/bin\/true; java -Xms6826m -Xmx30720m -cp ${MESOS_SANDBOX:-$MESOS_DIRECTORY}\/generalframework-0.1-SNAPSHOT-jar-with-dependencies.jar com.tencent.generalFramework.controller.driver.TensorflowExecutor\""},"environment":{"variables":[{"name":"LIBPROCESS_IP","value":"9.73.148.84"},{"name":"LIBPROCESS_PORT","value":"0"},{"name":"MESOS_AGENT_ENDPOINT","value":"9.73.148.84:5051"},{"name":"MESOS_CHECKPOINT","value":"1"},{"name":"MESOS_DIRECTORY","value":"\/dockerdata\/mesos\/slave_data\/slaves\/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051\/frameworks\/tensorflow_6832255\/executors\/tensorflow_6832255.worker.0\/runs\/1a7e1e02-1da5-434d-a663-034717c04f94"},{"name":"MESOS_EXECUTOR_ID","value":"tensorflow_6832255.worker.0"},{"name":"MESOS_EXECUTOR_SHUTDOWN_GRACE_PERIOD","value":"55secs"},{"name":"MESOS_FRAMEWORK_ID","value":"tensorflow_6832255"},{"name":"MESOS_HTTP_COMMAND_EXECUTOR","value":"0"},{"name":"MESOS_NATIVE_JAVA_LIBRARY","value":"\/usr\/lib\/libmesos-1.2.0.so"},{"name":"MESOS_NATIVE_LIBRARY","value":"\/usr\/lib\/libmesos-1.2.0.so"},{"name":"MESOS_RECOVERY_TIMEOUT","value":"15mins"},{"name":"MESOS_SLAVE_ID","value":"PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051"},{"name":"MESOS_SLAVE_PID","value":"slave(1)@9.73.148.84:5051"},{"name":"MESOS_SUBSCRIPTION_BACKOFF_MAX","value":"2secs"},{"name":"PRAJNA_APP_INST_ID","value":"tensorflow_6832255"}]},"working_directory":"\/dockerdata\/mesos\/slave_data\/slaves\/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051\/frameworks\/tensorflow_6832255\/executors\/tensorflow_6832255.worker.0\/runs\/1a7e1e02-1da5-434d-a663-034717c04f94"}]
Env: [NVIDIA_DRIVER_CAPABILITIES] = [video,compute,utility]
Env: [NVIDIA_VISIBLE_DEVICES] = [GPU-a426a0f8-c06d-d4d5-6154-3ec909053e79]
Env: [PATH] = [/usr/local/app/miniconda3/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin]
Env: [PRAJNA_APP_INST_ID] = [tensorflow_6832255]
Env: [PRAJNA_RESOURCE_ID] = [tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c]
Env: [PWD] = [/usr/local/app]
Env: [PYTHONPATH] = []
Env: [SHELL] = [/bin/bash]
Env: [SHLVL] = [6]
Env: [SUDO_COMMAND] = [/bin/bash -c export PYTHONPATH=;export PATH=/usr/local/app/miniconda3/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin;export LD_LIBRARY_PATH=/lib64:/usr/lib64:/lib:/usr/lib:/usr/lib/x86_64-linux-gnu:/usr/local/app/miniconda3/lib:/usr/local/nccl/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64;/dockerdata/mesos/util/do_start_agent.sh zk://prajna-eb.zk1.sumeru.mig:2181,prajna-eb.zk2.sumeru.mig:2181,prajna-eb.zk3.sumeru.mig:2181/mesos >> /tmp/error.info 2>&1]
Env: [SUDO_GID] = [500]
Env: [SUDO_UID] = [500]
Env: [SUDO_USER] = [mqq]
Env: [TERM] = [unknown]
Env: [TST_HACK_BASH_SESSION_ID] = [108931208340]
Env: [TVMEC_GPU_SHARE] = [FALSE]
Env: [USER] = [root]
Env: [USERNAME] = [root]
Env: [_] = [/usr/bin/nohup]
Env: [aabbcc] = [36000]
Env: [ceph_failed_url] = [http://sw1.prajna-rs.wsd.com/api/v1/app/reportOutBGCephFailed]
Env: [ceph_info] = [szgpu:10756:/ceph/szgpu/kuaibao]
Env: [execute_url] = [http://s3sz.sumeru.mig/borepacages:packages/formal/share_res/do_start_agent.sh]
Env: [mesos_install] = [1]
Env: [res_cpu] = [8]
Env: [res_disk] = [102400]
Env: [res_gpu] = [1]
Env: [res_mem] = [40960]
Env: [res_port0] = [10000]
Env: [res_port1] = [30000]
Env: [root_pwd] = [aZUQpeMMvnome@8]
Env: [slave_port] = [5051]
Overwriting launchinfo environment variable 'LIBPROCESS_IP', original: '9.73.148.84', new: '9.73.148.84'
Env: [LIBPROCESS_IP] = [9.73.148.84]
Overwriting launchinfo environment variable 'LIBPROCESS_PORT', original: '0', new: '0'
Env: [LIBPROCESS_PORT] = [0]
Overwriting launchinfo environment variable 'MESOS_AGENT_ENDPOINT', original: '9.73.148.84:5051', new: '9.73.148.84:5051'
Env: [MESOS_AGENT_ENDPOINT] = [9.73.148.84:5051]
Overwriting launchinfo environment variable 'MESOS_CHECKPOINT', original: '1', new: '1'
Env: [MESOS_CHECKPOINT] = [1]
Overwriting launchinfo environment variable 'MESOS_DIRECTORY', original: '/dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94', new: '/dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94'
Env: [MESOS_DIRECTORY] = [/dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94]
Overwriting launchinfo environment variable 'MESOS_EXECUTOR_ID', original: 'tensorflow_6832255.worker.0', new: 'tensorflow_6832255.worker.0'
Env: [MESOS_EXECUTOR_ID] = [tensorflow_6832255.worker.0]
Overwriting launchinfo environment variable 'MESOS_EXECUTOR_SHUTDOWN_GRACE_PERIOD', original: '55secs', new: '55secs'
Env: [MESOS_EXECUTOR_SHUTDOWN_GRACE_PERIOD] = [55secs]
Overwriting launchinfo environment variable 'MESOS_FRAMEWORK_ID', original: 'tensorflow_6832255', new: 'tensorflow_6832255'
Env: [MESOS_FRAMEWORK_ID] = [tensorflow_6832255]
Overwriting launchinfo environment variable 'MESOS_HTTP_COMMAND_EXECUTOR', original: '0', new: '0'
Env: [MESOS_HTTP_COMMAND_EXECUTOR] = [0]
Overwriting launchinfo environment variable 'MESOS_NATIVE_JAVA_LIBRARY', original: '/usr/lib/libmesos-1.2.0.so', new: '/usr/lib/libmesos-1.2.0.so'
Env: [MESOS_NATIVE_JAVA_LIBRARY] = [/usr/lib/libmesos-1.2.0.so]
Overwriting launchinfo environment variable 'MESOS_NATIVE_LIBRARY', original: '/usr/lib/libmesos-1.2.0.so', new: '/usr/lib/libmesos-1.2.0.so'
Env: [MESOS_NATIVE_LIBRARY] = [/usr/lib/libmesos-1.2.0.so]
Overwriting launchinfo environment variable 'MESOS_RECOVERY_TIMEOUT', original: '15mins', new: '15mins'
Env: [MESOS_RECOVERY_TIMEOUT] = [15mins]
Overwriting launchinfo environment variable 'MESOS_SLAVE_ID', original: 'PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051', new: 'PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051'
Env: [MESOS_SLAVE_ID] = [PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051]
Overwriting launchinfo environment variable 'MESOS_SLAVE_PID', original: 'slave(1)@9.73.148.84:5051', new: 'slave(1)@9.73.148.84:5051'
Env: [MESOS_SLAVE_PID] = [slave(1)@9.73.148.84:5051]
Overwriting launchinfo environment variable 'MESOS_SUBSCRIPTION_BACKOFF_MAX', original: '2secs', new: '2secs'
Env: [MESOS_SUBSCRIPTION_BACKOFF_MAX] = [2secs]
Overwriting launchinfo environment variable 'PRAJNA_APP_INST_ID', original: 'tensorflow_6832255', new: 'tensorflow_6832255'
Env: [PRAJNA_APP_INST_ID] = [tensorflow_6832255]
Start to execute command:[ cd /dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94; ${MESOS_SANDBOX:-$MESOS_DIRECTORY}/src/main.py  --n_epoch 10 --n_attention 3 ]
Namespace(batch_size=100, conv_size=5, data_path='/ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7', dropout=0.3, emb_size=64, l2=0, lr=0.01, model='SPM', n_attention=3, n_epoch=10, train_steps=1000)
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 1
Test set auc: 0.7423287630081177
Test set loss: 1.4573088884353638
Test set global_step: 16903
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 2
Test set auc: 0.7682958841323853
Test set loss: 0.062419790774583817
Test set global_step: 33806
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 3
Test set auc: 0.7851182222366333
Test set loss: -3.85159969329834
Test set global_step: 50709
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 4
Test set auc: 0.7988591194152832
Test set loss: -10.839675903320312
Test set global_step: 67612
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 5
Test set auc: 0.8092278838157654
Test set loss: -20.892353057861328
Test set global_step: 84515
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 6
Test set auc: 0.8162336945533752
Test set loss: -33.74203109741211
Test set global_step: 101418
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 7
Test set auc: 0.8210609555244446
Test set loss: -49.141929626464844
Test set global_step: 118321
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 8
Test set auc: 0.8241109848022461
Test set loss: -66.82247161865234
Test set global_step: 135224
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 9
Test set auc: 0.8275627493858337
Test set loss: -86.50550842285156
Test set global_step: 152127
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.train2.tfrecord
parsing /ceph/szgpu/kuaibao/yuanhangqu/SPM/data/multi_data7/tfrecord/multi_data7.test2.tfrecord
Epoch: 10
Test set auc: 0.8298974633216858
Test set loss: -107.9666519165039
Test set global_step: 169030
Exported to b'export/1557031962'
Finish to execute command:[ cd /dockerdata/mesos/slave_data/slaves/PRAJNA-tensorflow_6832255.dc643086-868a-4746-aae0-5a8ab685869c-H9.73.148.84-P5051/frameworks/tensorflow_6832255/executors/tensorflow_6832255.worker.0/runs/1a7e1e02-1da5-434d-a663-034717c04f94; ${MESOS_SANDBOX:-$MESOS_DIRECTORY}/src/main.py  --n_epoch 10 --n_attention 3 ], with exit code: 0
